webpackJsonp([5],{A7TC:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("IfhF"),n=s("KvKp"),i={name:"info",props:[],data:function(){return{userId:n.c.get("user_id")||"",userPhone:n.c.get("user_phone")||"",user:{username:""},showModal:0,teamName:"",errFlag:!1,errTxt:"名称应为中、英文，最长10个字符",asUserTeamRel:""}},mixins:[a.a],components:{},created:function(){this.getUserInfo()},mounted:function(){},computed:{},methods:{closeModal:function(e){1==e||2==e&&(this.teamName="",this.errFlag=!1,this.errTxt="名称应为中、英文，最长10个字符"),this.showModal=0},changeInput:function(){},getUserInfo:function(){var e=this;e.$api.SelectUserInfo(e.userPhone).then(function(t){1e4==Number(t.code)?(console.log(t.data),t.data.isteam&&(e.showModal=1,e.asUserTeamRel=t.data.asUserTeamRel),e.user=t.data.userInfo):e.$Message.warning(t.msg)})},create:function(){var e=this;return""==e.teamName?(e.errFlag=!0,void(e.errTxt="战队名称不能为空")):/^[\u4e00-\u9fa5|a-z|^\s]{1,10}$/.test(e.teamName)?(e.errFlag=!1,e.errTxt="",console.log(e.userId,e.teamName),void e.$api.CreateTeam(e.userId,e.teamName).then(function(t){console.log(t),1e4==Number(t.code)?(e.$Message.success("操作成功"),n.c.set("team_id",t.data),setTimeout(function(){e.$router.push("/match")},500)):e.$Message.warning(t.msg)})):(e.errFlag=!0,void(e.errTxt="名称应为中、英文，最长10个字符"))},jumpToMatch:function(e){var t=this,s=t.asUserTeamRel.teamid,a=t.asUserTeamRel.id;t.$api.DoUserTeamRelInfo(a,e).then(function(e){1e4==Number(e.code)?(t.$Message.success("加入成功"),n.c.set("team_id",s),setTimeout(function(){t.$router.push("/match")},500)):t.$Message.warning(e.msg)})}}},o={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"info"},[s("div",{staticClass:"info__cont"},[s("div",{staticClass:"info__cont--row"},[s("div",{staticClass:"item"},[s("div",{staticClass:"name"},[e._v(e._s(e.user.username))]),e._v(" "),s("div",{staticClass:"tel"},[e._v(e._s(e.userPhone))])]),e._v(" "),s("div",{staticClass:"item"},[s("div",{staticClass:"cord"},[e._v(e._s(e.user.winsnum)+"胜/"+e._s(e.user.failurenum)+"败")]),e._v(" "),s("div",{staticClass:"find__btn"})])]),e._v(" "),s("div",{staticClass:"info__cont--btn",on:{click:function(t){e.showModal=2}}})]),e._v(" "),s("transition-group",{attrs:{name:"cover"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:1==e.showModal,expression:"showModal==1"}],key:"a",staticClass:"mask invitation",on:{touchmove:function(e){e.preventDefault()}}},[s("div",{staticClass:"box"},[s("div",{staticClass:"title"},[e._v("蔡文姬邀请你加入战队")]),e._v(" "),s("div",{staticClass:"btns"},[s("div",{staticClass:"btn no",on:{click:function(t){return e.jumpToMatch(!1)}}}),e._v(" "),s("div",{staticClass:"btn yes",on:{click:function(t){return e.jumpToMatch(!0)}}})])])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:2==e.showModal,expression:"showModal==2"}],key:"b",staticClass:"mask create",on:{touchmove:function(e){e.preventDefault()}}},[s("div",{staticClass:"box"},[s("div",{staticClass:"title"},[e._v("创建战队")]),e._v(" "),s("div",{staticClass:"cont"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.teamName,expression:"teamName"}],attrs:{type:"text",placeholder:"请输入战队名称"},domProps:{value:e.teamName},on:{input:[function(t){t.target.composing||(e.teamName=t.target.value)},e.changeInput]}}),e._v(" "),s("div",{staticClass:"tips",class:{err:e.errFlag}},[e._v(e._s(e.errTxt))])]),e._v(" "),s("div",{staticClass:"btns"},[s("div",{staticClass:"btn cancel",on:{click:function(t){return e.closeModal(2)}}}),e._v(" "),s("div",{staticClass:"btn confirm",on:{click:e.create}})])])])])],1)},staticRenderFns:[]};var r=s("C7Lr")(i,o,!1,function(e){s("HV2s")},"data-v-5ee39a85",null);t.default=r.exports},HV2s:function(e,t){}});
//# sourceMappingURL=5.360466a51fcae7038bbb.js.map