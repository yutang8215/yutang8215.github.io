webpackJsonp([5],{ak2Y:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("KvKp"),i={name:"list",props:[],data:function(){return{userId:a.c.get("user_id")||"",pickerList:[],pickData:"",list:[],preventRepeat:!1,pageSize:5,pageNum:0}},components:{},created:function(){var t=this;t.$api.GetSelectList().then(function(e){1e4==Number(e.code)?t.pickerList=e.data.list:t.$Message.warning(e.msg)})},mounted:function(){this.initList()},computed:{},filters:{dateFmt:function(t){return Object(a.a)(new Date(t),"YYYY-MM-DD")}},methods:{selectChange:function(){this.initList()},initList:function(){var t=this;t.getlist(!0,function(e){console.log(e),t.$Message.success("加载成功"),t.list=e.data.list})},handleReachBottom:function(){var t=this;t.preventRepeat||t.getlist(!1,function(e){if(t.list=t.list.concat(e.data.list),e.data.list.length<t.pageSize)return t.preventRepeat=!0,void t.$Message.info("没有更多了");t.preventRepeat=!1,t.$Message.success("加载成功")})},getlist:function(t,e){var s=this;t&&(s.pageNum=0),s.$api.SelectGamesDetails(s.pageSize,s.pageNum,s.userId,s.pickData).then(function(t){s.pageNum++,"function"==typeof e&&e(t)})}}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list"},[s("div",{staticClass:"list__picker"},[s("Select",{staticClass:"select",attrs:{placeholder:"请选择"},on:{"on-change":t.selectChange},model:{value:t.pickData,callback:function(e){t.pickData=e},expression:"pickData"}},t._l(t.pickerList,function(e){return s("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.gamename))])}),1)],1),t._v(" "),s("div",{staticClass:"list__cont"},[0==t.list.length?s("div",{staticClass:"no__data"},[t._v("暂无数据")]):t._e(),t._v(" "),t.list.length>0?s("Scroll",{attrs:{"on-reach-bottom":t.handleReachBottom,"distance-to-edge":[0,-20]}},[s("ul",t._l(t.list,function(e,a){return s("li",{staticClass:"item"},[s("div",{staticClass:"title"},[s("div",{staticClass:"lt"},[t._v("第"+t._s(parseInt(a)+1)+"场")]),t._v(" "),s("div",{staticClass:"rt"},[t._v(t._s(t._f("dateFmt")(e.gameDetails.isdate)))])]),t._v(" "),s("div",{staticClass:"cont"},[s("div",{staticClass:"vs vs__lt"},[s("div",{staticClass:"desc"},[s("div",{staticClass:"title"},[s("h3",[t._v(t._s(e.gameDetails.teamname1))]),t._v(" "),s("small",[t._v(t._s(e.teamid==e.gameDetails.teamid1?"(所属战队)":""))])]),t._v(" "),s("div",{staticClass:"result"},[s("div",{staticClass:"txt success"},[t._v(t._s(e.gameDetails.num1>e.gameDetails.num2?"胜":"败"))]),t._v(" "),s("p",[t._v(t._s(e.gameDetails.rank1?e.gameDetails.rank1:"未上榜"))])])]),t._v(" "),s("div",{staticClass:"point point__lt"},[t._v(t._s(e.gameDetails.num1))])]),t._v(" "),s("div",{staticClass:"vs vs__rt"},[s("div",{staticClass:"desc"},[s("div",{staticClass:"title"},[s("h3",[t._v(t._s(e.gameDetails.teamname2))]),t._v(" "),s("small",[t._v(t._s(e.teamid==e.gameDetails.teamid2?"(所属战队)":""))])]),t._v(" "),s("div",{staticClass:"result"},[s("div",{staticClass:"txt fail"},[t._v(t._s(e.gameDetails.num2>e.gameDetails.num1?"胜":"败"))]),t._v(" "),s("p",[t._v(t._s(e.gameDetails.rank2?e.gameDetails.rank2:"未上榜"))])])]),t._v(" "),s("div",{staticClass:"point point__rt"},[t._v(t._s(e.gameDetails.num2))])])])])}),0)]):t._e()],1)])},staticRenderFns:[]};var l=s("C7Lr")(i,n,!1,function(t){s("rw7y")},"data-v-1dd12309",null);e.default=l.exports},rw7y:function(t,e){}});
//# sourceMappingURL=5.76cbb94c109118a7b6e9.js.map